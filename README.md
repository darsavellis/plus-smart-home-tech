# Plus Smart Home Tech

## Обзор
Проект Plus Smart Home Tech представляет собой систему для работы с устройствами умного дома. Сервис собирает и обрабатывает телеметрические данные от различных датчиков и хабов, предоставляя возможность управления умным домом.

## Структура проекта
Проект разделен на три основных модуля:

- **telemetry** - модуль для обработки телеметрических данных от устройств
  - **collector** - сервис для сбора данных от хабов и отправки в Kafka
  - **serialization** - модуль со схемами данных
    - **avro-schemas** - схемы Avro и сгенерированные классы
    - **proto-schemas** - схемы Protobuf и сгенерированные классы
- **infra** - инфраструктурные компоненты
- **commerce** - модуль для поддержки продаж устройств умного дома

## Сервис Collector
Сервис принимает данные от хабов пользователей в формате JSON через HTTP-протокол, кодирует их в формат Avro и сохраняет в топики Kafka.

### Типы данных:
1. **События от датчиков:**
   - датчики освещённости
   - датчики температуры
   - умные переключатели
   - климатические датчики
   - датчики движения

2. **События, связанные с хабом и сценариями:**
   - регистрация/дерегистрация датчиков
   - добавление/удаление сценариев

### Топики Kafka:
- **telemetry.sensors.v1** - данные, связанные с показаниями датчиков
- **telemetry.hubs.v1** - данные, связанные с хабами и сценариями

## Запуск проекта
Для запуска проекта используется Docker Compose:

```bash
docker-compose up
```
